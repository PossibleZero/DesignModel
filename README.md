# DesignModel
设计模式学习
day1

单例模式，列举了常用的单例方式

单例的好处：
1. 单例（这不是废话吗）
2. 延迟加载
3. 线程安全
4. 没有性能问题
5. 防止序列化产生新对象
6. 防止反射攻击

单例的弊端：

1、单例模式一般没有借口，扩展很困难，扩展需要改代码没有其他途径。

2、单例对象如果持有Context，很容易引起内存泄露，传递最好是ApplicationContext

静态内部类
    
    延迟加载

DCL（双重校验锁）

    双重检测问题，需要在1.5之后实施，volatile才起作用（禁止指令重排序列）
    正常情况下会进行以下三步：
    1、给Singleton的实例分配内存
    2、调用Singleton()的构造函数，初始化成员字段
    3、将sInstance对象指向分配的内存空间（此时sInstance就不是null了）
    原因，由于java编译器允许处理乱序指向。1.5之后，采用volatile才起作用（禁止指令重排序列）

枚举实现

    延迟加载，避免同步问题，保证单例，序列化问题

